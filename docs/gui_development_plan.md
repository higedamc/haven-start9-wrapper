# Haven GUI Development Plan (Start9 LAUNCH UI)

**ä½œæˆæ—¥**: 2025-12-27  
**æœ€çµ‚æ›´æ–°**: 2025-12-27  
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: ğŸ“‹ è¨ˆç”»ä¸­

---

## ğŸ“š ç›®æ¬¡

1. [æ¦‚è¦](#-æ¦‚è¦)
2. [ç¾çŠ¶ã¨èª²é¡Œ](#-ç¾çŠ¶ã¨èª²é¡Œ)
3. [GUI ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#-gui-ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
4. [ç”»é¢è¨­è¨ˆ](#-ç”»é¢è¨­è¨ˆ)
5. [æŠ€è¡“é¸æŠ](#-æŠ€è¡“é¸æŠ)
6. [å®Ÿè£…è¨ˆç”»](#-å®Ÿè£…è¨ˆç”»)
7. [API è¨­è¨ˆ](#-api-è¨­è¨ˆ)
8. [ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£](#-ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£)
9. [ãƒ†ã‚¹ãƒˆè¨ˆç”»](#-ãƒ†ã‚¹ãƒˆè¨ˆç”»)
10. [ãƒ‡ãƒ—ãƒ­ã‚¤æˆ¦ç•¥](#-ãƒ‡ãƒ—ãƒ­ã‚¤æˆ¦ç•¥)

---

## ğŸ¯ æ¦‚è¦

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå
Haven Web Dashboard for Start9

### ç›®çš„
Start9 ã® **LAUNCH UI** ãƒœã‚¿ãƒ³ã‹ã‚‰ Haven ã® Web ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€ãƒªãƒ¬ãƒ¼ã®çŠ¶æ…‹ç›£è¦–ã€çµ±è¨ˆè¡¨ç¤ºã€è¨­å®šç®¡ç†ã‚’è¡Œãˆã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚

### ã‚¹ã‚³ãƒ¼ãƒ—

**Phase 1: åŸºæœ¬ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰** (v1.2.0)
- ãƒªãƒ¬ãƒ¼çµ±è¨ˆè¡¨ç¤º
- ã‚¤ãƒ™ãƒ³ãƒˆæ•°ã€æ¥ç¶šæ•°
- ãƒ­ã‚°ãƒ“ãƒ¥ãƒ¼ã‚¢ãƒ¼

**Phase 2: æ‹¡å¼µæ©Ÿèƒ½** (v1.3.0)
- WoT çµ±è¨ˆ
- Blossom çµ±è¨ˆ
- Import å±¥æ­´

**Phase 3: ç®¡ç†æ©Ÿèƒ½** (v1.4.0)
- ã‚¤ãƒ™ãƒ³ãƒˆæ¤œç´¢ (NIP-50)
- ã‚¤ãƒ™ãƒ³ãƒˆå‰Šé™¤
- è¨­å®šå¤‰æ›´ (ä¸€éƒ¨)

### ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼

```
As a Haven user,
I want to access a web dashboard from Start9 LAUNCH UI,
So that I can monitor my relay's status and manage my data.

Acceptance Criteria:
1. ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¯ .onion ã‚¢ãƒ‰ãƒ¬ã‚¹ã§ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
2. ãƒªãƒ¬ãƒ¼çµ±è¨ˆãŒãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§è¡¨ç¤ºã•ã‚Œã‚‹
3. ãƒ­ã‚°ãŒæ™‚ç³»åˆ—ã§é–²è¦§ã§ãã‚‹
4. ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã§ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ
5. èªè¨¼ãªã—ã§ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ (Tor Hidden Service ã®ãŸã‚)
```

---

## ğŸ” ç¾çŠ¶ã¨èª²é¡Œ

### ç¾çŠ¶ (v1.1.5)

Haven ã¯ç¾åœ¨ã€ä»¥ä¸‹ã®çŠ¶æ…‹ã§ã™ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Current Haven (v1.1.5)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Interfaces:
  - ws://[onion]/          (Outbox Relay - WebSocket only)
  - ws://[onion]/private   (Private Relay - WebSocket only)
  - ws://[onion]/chat      (Chat Relay - WebSocket only)
  - ws://[onion]/inbox     (Inbox Relay - WebSocket only)

Static HTML:
  - http://[onion]/        (NIP-11 relay info - minimal HTML)
  - http://[onion]/private (NIP-11 relay info - minimal HTML)
  - http://[onion]/chat    (NIP-11 relay info - minimal HTML)
  - http://[onion]/inbox   (NIP-11 relay info - minimal HTML)

Blossom:
  - http://[onion]/upload  (POST - upload blob)
  - http://[onion]/<sha256>(GET - download blob)
  - http://[onion]/list    (GET - list blobs)
```

**ç¾åœ¨ã® HTML**: `haven/templates/index.html`

```html
<!DOCTYPE html>
<html>
<head>
    <title>{{.RelayName}}</title>
    <meta charset="UTF-8">
    <!-- ... -->
</head>
<body>
    <div class="container">
        <div class="logo-container">
            <!-- Logo -->
        </div>
        <h1>{{.RelayName}}</h1>
        <p>{{.RelayDescription}}</p>
        <div class="info-box">
            <p><strong>Relay URL:</strong> <code>{{.RelayURL}}</code></p>
            <p><strong>Relay Pubkey:</strong> <code>{{.RelayPubkey}}</code></p>
        </div>
    </div>
</body>
</html>
```

### èª²é¡Œ

1. **æƒ…å ±ä¸è¶³**
   - ç¾åœ¨ã®ãƒšãƒ¼ã‚¸ã¯é™çš„ãª NIP-11 æƒ…å ±ã®ã¿
   - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã®çµ±è¨ˆã‚„ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒè¦‹ãˆãªã„

2. **ç®¡ç†æ©Ÿèƒ½ãªã—**
   - ãƒ­ã‚°ã®ç¢ºèªãŒã§ããªã„
   - ã‚¤ãƒ™ãƒ³ãƒˆæ¤œç´¢ãŒã§ããªã„
   - è¨­å®šå¤‰æ›´ãŒã§ããªã„

3. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ã‚¯ã‚¹ãƒšãƒªã‚¨ãƒ³ã‚¹**
   - ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãŒãªã„ãŸã‚ã€CLI ã§ãƒ­ã‚°ã‚’ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚‹
   - Start9 UI ã‹ã‚‰ Haven ã®çŠ¶æ…‹ãŒåˆ†ã‹ã‚‰ãªã„

4. **ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°**
   - ã‚¤ãƒ™ãƒ³ãƒˆæ•°ã€æ¥ç¶šæ•°ãªã©ã®çµ±è¨ˆãŒè¦‹ãˆãªã„
   - WoT ãƒ¡ãƒ³ãƒãƒ¼æ•°ãŒåˆ†ã‹ã‚‰ãªã„
   - Blossom ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ä½¿ç”¨é‡ãŒåˆ†ã‹ã‚‰ãªã„

---

## ğŸ—ï¸ GUI ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Browser (Tor)                         â”‚
â”‚               http://[onion]/dashboard                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚ HTTPS over Tor
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Haven Process                          â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  HTTP Router (main.go)                        â”‚    â”‚
â”‚  â”‚  - /dashboard         â†’ Dashboard Handler      â”‚    â”‚
â”‚  â”‚  - /api/stats         â†’ Stats API              â”‚    â”‚
â”‚  â”‚  - /api/logs          â†’ Logs API               â”‚    â”‚
â”‚  â”‚  - /api/wot           â†’ WoT API                â”‚    â”‚
â”‚  â”‚  - /api/blossom       â†’ Blossom API            â”‚    â”‚
â”‚  â”‚  - /api/events/search â†’ Search API (NIP-50)    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Dashboard Backend (dashboard.go - NEW)       â”‚    â”‚
â”‚  â”‚  - Collect stats from relays                   â”‚    â”‚
â”‚  â”‚  - Aggregate event counts                      â”‚    â”‚
â”‚  â”‚  - Read logs from /data/logs/                  â”‚    â”‚
â”‚  â”‚  - Query WoT data                              â”‚    â”‚
â”‚  â”‚  - Query Blossom metadata                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ privateDB   â”‚ chatDB      â”‚ inboxDB  â”‚ outboxDB â”‚  â”‚
â”‚  â”‚ (Stats)     â”‚ (Stats)     â”‚ (Stats)  â”‚ (Stats)  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ

```
haven/
â”œâ”€â”€ main.go                    (HTTP router è¿½åŠ )
â”œâ”€â”€ dashboard.go               (NEW - Dashboard backend)
â”œâ”€â”€ dashboard_stats.go         (NEW - Stats collection)
â”œâ”€â”€ dashboard_logs.go          (NEW - Log reader)
â”œâ”€â”€ dashboard_wot.go           (NEW - WoT data)
â”œâ”€â”€ dashboard_blossom.go       (NEW - Blossom data)
â”œâ”€â”€ dashboard_search.go        (NEW - NIP-50 search)
â””â”€â”€ templates/
    â”œâ”€â”€ index.html             (æ—¢å­˜ - NIP-11 info)
    â””â”€â”€ dashboard/
        â”œâ”€â”€ index.html         (NEW - Dashboard main page)
        â”œâ”€â”€ stats.html         (NEW - Stats page)
        â”œâ”€â”€ logs.html          (NEW - Logs viewer)
        â”œâ”€â”€ wot.html           (NEW - WoT viewer)
        â”œâ”€â”€ blossom.html       (NEW - Blossom viewer)
        â”œâ”€â”€ search.html        (NEW - Event search)
        â””â”€â”€ static/
            â”œâ”€â”€ css/
            â”‚   â”œâ”€â”€ dashboard.css
            â”‚   â”œâ”€â”€ stats.css
            â”‚   â””â”€â”€ logs.css
            â”œâ”€â”€ js/
            â”‚   â”œâ”€â”€ dashboard.js
            â”‚   â”œâ”€â”€ stats.js
            â”‚   â”œâ”€â”€ logs.js
            â”‚   â””â”€â”€ chart.min.js  (Chart.js for graphs)
            â””â”€â”€ img/
                â””â”€â”€ haven-logo.svg
```

---

## ğŸ¨ ç”»é¢è¨­è¨ˆ

### 1. Dashboard Home (`/dashboard`)

**ç›®çš„**: Haven ã®å…¨ä½“çŠ¶æ³ã‚’ä¸€ç›®ã§æŠŠæ¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ  Haven Dashboard                        [Last: 2s ago] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  ğŸ“Š Relay Statistics                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Private     â”‚ Chat        â”‚ Inbox       â”‚ Outbox   â”‚â”‚
â”‚  â”‚ 1,234 eventsâ”‚ 567 events  â”‚ 890 events  â”‚ 2,345 evtâ”‚â”‚
â”‚  â”‚ 0 connectionsâ”‚ 2 conn     â”‚ 1 conn      â”‚ 5 conn   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                          â”‚
â”‚  ğŸ•¸ï¸ Web of Trust                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Members: 42                                        â”‚ â”‚
â”‚  â”‚ Network Size: 1,234                                â”‚ â”‚
â”‚  â”‚ Last Refresh: 2 hours ago                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                          â”‚
â”‚  ğŸŒ¸ Blossom Server                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Files: 56                                          â”‚ â”‚
â”‚  â”‚ Storage: 234 MB / 10 GB                            â”‚ â”‚
â”‚  â”‚ Last Upload: 10 minutes ago                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                          â”‚
â”‚  ğŸ“¦ Recent Imports                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ 2025-12-25 15:30 - Imported 1,234 notes            â”‚ â”‚
â”‚  â”‚ 2025-12-20 10:15 - Imported 567 tagged notes       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                          â”‚
â”‚  ğŸ“ Recent Logs (Last 10)                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ [INFO] 15:45:32 - ğŸ“° new note in your inbox       â”‚ â”‚
â”‚  â”‚ [INFO] 15:40:12 - âš¡ï¸ new zap in your inbox        â”‚ â”‚
â”‚  â”‚ [INFO] 15:35:01 - ğŸ”« blasted abc123 to 8 relays   â”‚ â”‚
â”‚  â”‚ ...                                                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                          â”‚
â”‚  [View Full Stats] [View Logs] [Search Events]          â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ©Ÿèƒ½**:
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–° (2ç§’ã”ã¨)
- å„ãƒªãƒ¬ãƒ¼ã®ã‚¤ãƒ™ãƒ³ãƒˆæ•°ãƒ»æ¥ç¶šæ•°
- WoT çµ±è¨ˆ
- Blossom çµ±è¨ˆ
- Import å±¥æ­´
- æœ€æ–°ãƒ­ã‚° (10ä»¶)

**API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**:
- `GET /api/stats` - å…¨çµ±è¨ˆãƒ‡ãƒ¼ã‚¿å–å¾—
- `GET /api/logs?limit=10` - æœ€æ–°ãƒ­ã‚°å–å¾—

### 2. Stats Page (`/dashboard/stats`)

**ç›®çš„**: è©³ç´°ãªçµ±è¨ˆæƒ…å ±ã¨ã‚°ãƒ©ãƒ•è¡¨ç¤º

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Š Haven Statistics                     [Auto-refresh âœ“] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  ğŸ“ˆ Event Count Over Time (Last 24h)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚        â•±â•²                                          â”‚ â”‚
â”‚  â”‚       â•±  â•²      â•±â•²                                 â”‚ â”‚
â”‚  â”‚      â•±    â•²    â•±  â•²                                â”‚ â”‚
â”‚  â”‚     â•±      â•²  â•±    â•²                               â”‚ â”‚
â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ â”‚
â”‚  â”‚  0h   6h   12h  18h  24h                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                          â”‚
â”‚  ğŸ“Š Event Kinds Distribution                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Kind 1 (Text Note):  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘  80%       â”‚ â”‚
â”‚  â”‚ Kind 7 (Reaction):   â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  15%       â”‚ â”‚
â”‚  â”‚ Kind 6 (Repost):     â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   3%       â”‚ â”‚
â”‚  â”‚ Kind 1059 (Gift):    â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   2%       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                          â”‚
â”‚  ğŸ”Œ Connection Statistics                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Current Connections: 8                             â”‚ â”‚
â”‚  â”‚ Peak Connections: 15 (at 14:30)                    â”‚ â”‚
â”‚  â”‚ Total Connections (24h): 234                       â”‚ â”‚
â”‚  â”‚ Avg Duration: 5m 23s                               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                          â”‚
â”‚  ğŸ’¾ Database Statistics                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Engine: LMDB                                       â”‚ â”‚
â”‚  â”‚ Total Size: 1.2 GB                                 â”‚ â”‚
â”‚  â”‚ - Private:  234 MB (1,234 events)                  â”‚ â”‚
â”‚  â”‚ - Chat:     123 MB (567 events)                    â”‚ â”‚
â”‚  â”‚ - Inbox:    456 MB (890 events)                    â”‚ â”‚
â”‚  â”‚ - Outbox:   345 MB (2,345 events)                  â”‚ â”‚
â”‚  â”‚ - Blossom:  42 MB (metadata)                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                          â”‚
â”‚  [â† Back to Dashboard]                                   â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ©Ÿèƒ½**:
- ã‚°ãƒ©ãƒ•è¡¨ç¤º (Chart.js)
- ã‚¤ãƒ™ãƒ³ãƒˆæ•°ã®æ™‚ç³»åˆ—æ¨ç§»
- Event Kind åˆ†å¸ƒ
- æ¥ç¶šçµ±è¨ˆ
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚µã‚¤ã‚º

**API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**:
- `GET /api/stats/events?period=24h` - ã‚¤ãƒ™ãƒ³ãƒˆæ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿
- `GET /api/stats/kinds` - Kind åˆ†å¸ƒ
- `GET /api/stats/connections` - æ¥ç¶šçµ±è¨ˆ
- `GET /api/stats/database` - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹çµ±è¨ˆ

### 3. Logs Viewer (`/dashboard/logs`)

**ç›®çš„**: ãƒ­ã‚°ã®é–²è¦§ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ Haven Logs                          [Auto-scroll: ON] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  Filters:                                                â”‚
â”‚  [All â–¼] [DEBUG] [INFO âœ“] [WARN âœ“] [ERROR âœ“]            â”‚
â”‚  Search: [________________]  [Search]  [Clear]           â”‚
â”‚                                                          â”‚
â”‚  Logs:                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ [INFO]  2025-12-27 15:45:32                        â”‚ â”‚
â”‚  â”‚   ğŸ“° new note in your inbox                        â”‚ â”‚
â”‚  â”‚                                                    â”‚ â”‚
â”‚  â”‚ [INFO]  2025-12-27 15:40:12                        â”‚ â”‚
â”‚  â”‚   âš¡ï¸ new zap in your inbox                         â”‚ â”‚
â”‚  â”‚                                                    â”‚ â”‚
â”‚  â”‚ [INFO]  2025-12-27 15:35:01                        â”‚ â”‚
â”‚  â”‚   ğŸ”« blasted abc123 to 8 relays                    â”‚ â”‚
â”‚  â”‚                                                    â”‚ â”‚
â”‚  â”‚ [DEBUG] 2025-12-27 15:30:45                        â”‚ â”‚
â”‚  â”‚   storing blob sha256=def456 ext=jpg               â”‚ â”‚
â”‚  â”‚                                                    â”‚ â”‚
â”‚  â”‚ [WARN]  2025-12-27 15:25:12                        â”‚ â”‚
â”‚  â”‚   âš ï¸ Some relays failed to connect                 â”‚ â”‚
â”‚  â”‚                                                    â”‚ â”‚
â”‚  â”‚ [ERROR] 2025-12-27 15:20:03                        â”‚ â”‚
â”‚  â”‚   ğŸš« error connecting to relay wss://example.com   â”‚ â”‚
â”‚  â”‚                                                    â”‚ â”‚
â”‚  â”‚ ...                                                â”‚ â”‚
â”‚  â”‚                                                    â”‚ â”‚
â”‚  â”‚ [Load More] [100 / 1000]                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                          â”‚
â”‚  [â† Back to Dashboard]  [Download Logs]                  â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ©Ÿèƒ½**:
- ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ (DEBUG, INFO, WARN, ERROR)
- ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–° (WebSocket or SSE)
- ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³
- ãƒ­ã‚°ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ (CSV/JSON)

**API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**:
- `GET /api/logs?level=INFO&limit=100&offset=0` - ãƒ­ã‚°å–å¾—
- `GET /api/logs/search?q=keyword` - ãƒ­ã‚°æ¤œç´¢
- `GET /api/logs/download?format=csv` - ãƒ­ã‚°ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
- `WS /api/logs/stream` - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ­ã‚°ã‚¹ãƒˆãƒªãƒ¼ãƒ  (WebSocket)

### 4. WoT Viewer (`/dashboard/wot`)

**ç›®çš„**: Web of Trust ã®çŠ¶æ…‹è¡¨ç¤º

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ•¸ï¸ Web of Trust                    [Last refresh: 2h ago]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  ğŸ“Š Network Overview                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Direct Followers (0-hop): 123                      â”‚ â”‚
â”‚  â”‚ 1-hop Network: 1,234                               â”‚ â”‚
â”‚  â”‚ WoT Members (>= min followers): 42                 â”‚ â”‚
â”‚  â”‚ Minimum Followers: 3                               â”‚ â”‚
â”‚  â”‚ WoT Depth: 1                                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                          â”‚
â”‚  ğŸ‘¥ Top Members by Follower Count                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ 1. npub1abc... (Alice)  - 456 followers            â”‚ â”‚
â”‚  â”‚ 2. npub1def... (Bob)    - 234 followers            â”‚ â”‚
â”‚  â”‚ 3. npub1ghi... (Charlie)- 123 followers            â”‚ â”‚
â”‚  â”‚ 4. npub1jkl... (Dave)   -  89 followers            â”‚ â”‚
â”‚  â”‚ 5. npub1mno... (Eve)    -  67 followers            â”‚ â”‚
â”‚  â”‚ ...                                                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                          â”‚
â”‚  ğŸ”„ Refresh Status                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Last Refresh: 2025-12-27 13:45:00                  â”‚ â”‚
â”‚  â”‚ Next Refresh: 2025-12-27 15:45:00 (in 2h)          â”‚ â”‚
â”‚  â”‚ Refresh Interval: 2 hours                          â”‚ â”‚
â”‚  â”‚ [Refresh Now]                                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                          â”‚
â”‚  ğŸ“Š Follower Count Distribution                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  3-10:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  80%         â”‚ â”‚
â”‚  â”‚ 11-50:   â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  15%         â”‚ â”‚
â”‚  â”‚ 51-100:  â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   3%         â”‚ â”‚
â”‚  â”‚ 100+:    â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   2%         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                          â”‚
â”‚  [â† Back to Dashboard]                                   â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ©Ÿèƒ½**:
- WoT ãƒ¡ãƒ³ãƒãƒ¼æ•°
- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚µã‚¤ã‚º
- ãƒˆãƒƒãƒ—ãƒ¡ãƒ³ãƒãƒ¼è¡¨ç¤º
- æ›´æ–°çŠ¶æ³
- æ‰‹å‹•æ›´æ–°ãƒœã‚¿ãƒ³
- ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼æ•°åˆ†å¸ƒã‚°ãƒ©ãƒ•

**API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**:
- `GET /api/wot/stats` - WoT çµ±è¨ˆ
- `GET /api/wot/members?limit=100` - WoT ãƒ¡ãƒ³ãƒãƒ¼ãƒªã‚¹ãƒˆ
- `POST /api/wot/refresh` - æ‰‹å‹•æ›´æ–°ãƒˆãƒªã‚¬ãƒ¼

### 5. Blossom Viewer (`/dashboard/blossom`)

**ç›®çš„**: Blossom ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®ç®¡ç†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸŒ¸ Blossom Media Server                [Storage: 234 MB] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  ğŸ’¾ Storage Overview                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Total Files: 56                                    â”‚ â”‚
â”‚  â”‚ Total Size: 234 MB                                 â”‚ â”‚
â”‚  â”‚ Storage Limit: 10 GB                               â”‚ â”‚
â”‚  â”‚ Usage: â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  2.3%           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                          â”‚
â”‚  ğŸ“‚ File Types                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Images (jpg, png, gif): 45 files (200 MB)          â”‚ â”‚
â”‚  â”‚ Videos (mp4, mov):      8 files (30 MB)            â”‚ â”‚
â”‚  â”‚ Others:                 3 files (4 MB)              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                          â”‚
â”‚  ğŸ“‹ Recent Uploads (Last 10)                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ [ğŸ“·] image.jpg      2.3 MB  2025-12-27 15:40       â”‚ â”‚
â”‚  â”‚      SHA256: abc123...                             â”‚ â”‚
â”‚  â”‚      [View] [Copy Link] [Delete]                   â”‚ â”‚
â”‚  â”‚                                                    â”‚ â”‚
â”‚  â”‚ [ğŸ¥] video.mp4      12 MB   2025-12-27 14:20       â”‚ â”‚
â”‚  â”‚      SHA256: def456...                             â”‚ â”‚
â”‚  â”‚      [View] [Copy Link] [Delete]                   â”‚ â”‚
â”‚  â”‚                                                    â”‚ â”‚
â”‚  â”‚ [ğŸ“·] screenshot.png 1.5 MB  2025-12-27 13:10       â”‚ â”‚
â”‚  â”‚      SHA256: ghi789...                             â”‚ â”‚
â”‚  â”‚      [View] [Copy Link] [Delete]                   â”‚ â”‚
â”‚  â”‚                                                    â”‚ â”‚
â”‚  â”‚ ...                                                â”‚ â”‚
â”‚  â”‚                                                    â”‚ â”‚
â”‚  â”‚ [Load More] [10 / 56]                              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                          â”‚
â”‚  [â† Back to Dashboard]  [Upload File]                    â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ©Ÿèƒ½**:
- ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ä½¿ç”¨é‡
- ãƒ•ã‚¡ã‚¤ãƒ«ã‚¿ã‚¤ãƒ—åˆ¥çµ±è¨ˆ
- æœ€è¿‘ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ä¸€è¦§
- ãƒ•ã‚¡ã‚¤ãƒ«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
- ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤
- ãƒªãƒ³ã‚¯ã‚³ãƒ”ãƒ¼

**API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**:
- `GET /api/blossom/stats` - Blossom çµ±è¨ˆ
- `GET /api/blossom/files?limit=10&offset=0` - ãƒ•ã‚¡ã‚¤ãƒ«ãƒªã‚¹ãƒˆ
- `GET /<sha256>` - ãƒ•ã‚¡ã‚¤ãƒ«å–å¾— (æ—¢å­˜)
- `DELETE /<sha256>` - ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤ (æ—¢å­˜)

### 6. Event Search (`/dashboard/search`)

**ç›®çš„**: ã‚¤ãƒ™ãƒ³ãƒˆæ¤œç´¢ (NIP-50 å®Ÿè£…å¾Œ)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ” Event Search (NIP-50)                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  Search Query:                                           â”‚
â”‚  [______________________________________]  [Search]       â”‚
â”‚                                                          â”‚
â”‚  Filters:                                                â”‚
â”‚  Relay: [All â–¼] [Private] [Chat] [Inbox] [Outbox]       â”‚
â”‚  Kind:  [All â–¼] [1] [7] [6] [1059] [Other]               â”‚
â”‚  Date:  From [2024-01-01] To [2025-12-27]                â”‚
â”‚                                                          â”‚
â”‚  Results (234 found):                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚ â”‚ Kind 1 - Text Note                           â”‚   â”‚ â”‚
â”‚  â”‚ â”‚ 2025-12-27 15:30:00                          â”‚   â”‚ â”‚
â”‚  â”‚ â”‚ Author: npub1abc... (Alice)                  â”‚   â”‚ â”‚
â”‚  â”‚ â”‚ Content: This is a test note about bitcoin...â”‚   â”‚ â”‚
â”‚  â”‚ â”‚ [View JSON] [View in Relay]                  â”‚   â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚                                                    â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚ â”‚ Kind 7 - Reaction                            â”‚   â”‚ â”‚
â”‚  â”‚ â”‚ 2025-12-27 14:20:00                          â”‚   â”‚ â”‚
â”‚  â”‚ â”‚ Author: npub1def... (Bob)                    â”‚   â”‚ â”‚
â”‚  â”‚ â”‚ Content: ğŸ”¥                                   â”‚   â”‚ â”‚
â”‚  â”‚ â”‚ [View JSON] [View in Relay]                  â”‚   â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚                                                    â”‚ â”‚
â”‚  â”‚ ...                                                â”‚ â”‚
â”‚  â”‚                                                    â”‚ â”‚
â”‚  â”‚ [Load More] [10 / 234]                             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                          â”‚
â”‚  [â† Back to Dashboard]  [Export Results]                 â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ©Ÿèƒ½**:
- ãƒ•ãƒ«ãƒ†ã‚­ã‚¹ãƒˆæ¤œç´¢
- ãƒªãƒ¬ãƒ¼é¸æŠãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
- Kind ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
- æ—¥ä»˜ç¯„å›²ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
- JSON ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
- çµæœã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ (JSON/CSV)

**API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**:
- `GET /api/events/search?q=keyword&relay=all&kind=all` - ã‚¤ãƒ™ãƒ³ãƒˆæ¤œç´¢

---

## ğŸ› ï¸ æŠ€è¡“é¸æŠ

### Frontend

#### Option 1: Pure HTML + Vanilla JS + Server-Side Rendering (æ¨å¥¨)

**ãƒ¡ãƒªãƒƒãƒˆ**:
- âœ… è»½é‡ (ä¾å­˜ãªã—)
- âœ… Go ã® `html/template` ã§å®Œçµ
- âœ… ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚»ã‚¹ä¸è¦
- âœ… Tor ç’°å¢ƒã§é«˜é€Ÿ

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:
- âš ï¸ è¤‡é›‘ãª UI ã¯å®Ÿè£…ãŒå¤§å¤‰

**ã‚¹ã‚¿ãƒƒã‚¯**:
```
- HTML5
- CSS3 (Pure CSS or Tailwind CSS via CDN)
- Vanilla JavaScript
- Chart.js (CDN)
- Go html/template
```

#### Option 2: Alpine.js + htmx

**ãƒ¡ãƒªãƒƒãƒˆ**:
- âœ… è»½é‡ (Alpine: 15KB, htmx: 14KB)
- âœ… ãƒªã‚¢ã‚¯ãƒ†ã‚£ãƒ– UI
- âœ… ã‚µãƒ¼ãƒãƒ¼ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã¨ã®è¦ªå’Œæ€§

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:
- âš ï¸ å­¦ç¿’ã‚³ã‚¹ãƒˆ

**ã‚¹ã‚¿ãƒƒã‚¯**:
```
- Alpine.js (reactivity)
- htmx (AJAX)
- TailwindCSS (styling)
- Chart.js (graphs)
- Go html/template
```

#### Option 3: SPA (Vue.js / React)

**ãƒ¡ãƒªãƒƒãƒˆ**:
- âœ… ãƒªãƒƒãƒãª UI
- âœ… å¼·åŠ›ãªã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ 

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:
- âŒ ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚»ã‚¹å¿…è¦
- âŒ é‡ã„ (ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚º)
- âŒ Tor ç’°å¢ƒã§é…ã„å¯èƒ½æ€§

**ã‚¹ã‚¿ãƒƒã‚¯**:
```
- Vue.js 3 or React 18
- Vite (build tool)
- TailwindCSS
- Chart.js or Recharts
- Go REST API backend
```

### æ¨å¥¨: Option 1 (Pure HTML + Vanilla JS)

Haven ã®æ€§è³ªä¸Šã€ã‚·ãƒ³ãƒ—ãƒ«ã§è»½é‡ãªã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ãŒæœ€é©ã§ã™ã€‚

**ç†ç”±**:
1. Tor ç’°å¢ƒã§ã®é«˜é€Ÿæ€§
2. ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚»ã‚¹ä¸è¦ (Haven ã®ãƒ“ãƒ«ãƒ‰ã«å½±éŸ¿ãªã—)
3. Go ã® `html/template` ã¨è¦ªå’Œæ€§
4. ä¿å®ˆæ€§ãŒé«˜ã„

---

## ğŸ“… å®Ÿè£…è¨ˆç”»

### Phase 1: åŸºæœ¬ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ (v1.2.0)

**æœŸé–“**: 2é€±é–“

| ã‚¿ã‚¹ã‚¯ | å„ªå…ˆåº¦ | æ‰€è¦æ™‚é–“ | æ‹…å½“ |
|--------|--------|---------|------|
| **Backend** |
| 1.1. `dashboard.go` ä½œæˆ | ğŸ”´ High | 2h | - |
| 1.2. Stats API å®Ÿè£… | ğŸ”´ High | 4h | - |
| 1.3. Logs API å®Ÿè£… | ğŸ”´ High | 3h | - |
| 1.4. HTTP Router æ‹¡å¼µ | ğŸ”´ High | 1h | - |
| **Frontend** |
| 1.5. Dashboard HTML ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ | ğŸ”´ High | 4h | - |
| 1.6. Stats ãƒšãƒ¼ã‚¸ | ğŸ”´ High | 3h | - |
| 1.7. Logs ãƒšãƒ¼ã‚¸ | ğŸ”´ High | 3h | - |
| 1.8. CSS ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚° | ğŸŸ¡ Medium | 2h | - |
| 1.9. JavaScript (API å‘¼ã³å‡ºã—) | ğŸ”´ High | 3h | - |
| **Testing** |
| 1.10. çµ±åˆãƒ†ã‚¹ãƒˆ | ğŸŸ¡ Medium | 2h | - |
| 1.11. ãƒ–ãƒ©ã‚¦ã‚¶ãƒ†ã‚¹ãƒˆ (Tor) | ğŸ”´ High | 1h | - |
| **åˆè¨ˆ** | | **28h** | |

**æˆæœç‰©**:
- `/dashboard` ãƒšãƒ¼ã‚¸
- `/dashboard/stats` ãƒšãƒ¼ã‚¸
- `/dashboard/logs` ãƒšãƒ¼ã‚¸
- API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ:
  - `GET /api/stats`
  - `GET /api/logs`

### Phase 2: æ‹¡å¼µæ©Ÿèƒ½ (v1.3.0)

**æœŸé–“**: 1é€±é–“

| ã‚¿ã‚¹ã‚¯ | å„ªå…ˆåº¦ | æ‰€è¦æ™‚é–“ | æ‹…å½“ |
|--------|--------|---------|------|
| **Backend** |
| 2.1. WoT API å®Ÿè£… | ğŸŸ¡ Medium | 3h | - |
| 2.2. Blossom API å®Ÿè£… | ğŸŸ¡ Medium | 2h | - |
| 2.3. Import History æ©Ÿèƒ½ | ğŸŸ¢ Low | 2h | - |
| **Frontend** |
| 2.4. WoT ãƒšãƒ¼ã‚¸ | ğŸŸ¡ Medium | 3h | - |
| 2.5. Blossom ãƒšãƒ¼ã‚¸ | ğŸŸ¡ Medium | 4h | - |
| 2.6. Chart.js ã‚°ãƒ©ãƒ•è¿½åŠ  | ğŸŸ¡ Medium | 3h | - |
| **Testing** |
| 2.7. çµ±åˆãƒ†ã‚¹ãƒˆ | ğŸŸ¡ Medium | 2h | - |
| **åˆè¨ˆ** | | **19h** | |

**æˆæœç‰©**:
- `/dashboard/wot` ãƒšãƒ¼ã‚¸
- `/dashboard/blossom` ãƒšãƒ¼ã‚¸
- ã‚°ãƒ©ãƒ•è¡¨ç¤º (Chart.js)
- API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ:
  - `GET /api/wot/stats`
  - `GET /api/blossom/stats`

### Phase 3: ç®¡ç†æ©Ÿèƒ½ (v1.4.0)

**æœŸé–“**: 2é€±é–“

| ã‚¿ã‚¹ã‚¯ | å„ªå…ˆåº¦ | æ‰€è¦æ™‚é–“ | æ‹…å½“ |
|--------|--------|---------|------|
| **Backend** |
| 3.1. NIP-50 å®Ÿè£… | ğŸ”´ High | 8h | - |
| 3.2. Event Search API | ğŸ”´ High | 4h | - |
| 3.3. Event Delete API | ğŸŸ¢ Low | 2h | - |
| **Frontend** |
| 3.4. Search ãƒšãƒ¼ã‚¸ | ğŸ”´ High | 4h | - |
| 3.5. Event JSON Viewer | ğŸŸ¡ Medium | 2h | - |
| 3.6. Delete æ©Ÿèƒ½ UI | ğŸŸ¢ Low | 2h | - |
| **Testing** |
| 3.7. Search ãƒ†ã‚¹ãƒˆ | ğŸ”´ High | 3h | - |
| 3.8. çµ±åˆãƒ†ã‚¹ãƒˆ | ğŸŸ¡ Medium | 2h | - |
| **åˆè¨ˆ** | | **27h** | |

**æˆæœç‰©**:
- `/dashboard/search` ãƒšãƒ¼ã‚¸
- NIP-50 å®Ÿè£…
- API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ:
  - `GET /api/events/search`
  - `DELETE /api/events/:id`

---

## ğŸ”Œ API è¨­è¨ˆ

### API ä»•æ§˜

#### 1. Stats API

**GET `/api/stats`**

Response:
```json
{
  "relays": {
    "private": {
      "events": 1234,
      "connections": 0
    },
    "chat": {
      "events": 567,
      "connections": 2
    },
    "inbox": {
      "events": 890,
      "connections": 1
    },
    "outbox": {
      "events": 2345,
      "connections": 5
    }
  },
  "wot": {
    "members": 42,
    "networkSize": 1234,
    "lastRefresh": "2025-12-27T13:45:00Z"
  },
  "blossom": {
    "files": 56,
    "totalSize": 245366784,
    "storageLimit": 10737418240
  },
  "database": {
    "engine": "lmdb",
    "totalSize": 1288490188
  }
}
```

**GET `/api/stats/events?period=24h`**

Response:
```json
{
  "period": "24h",
  "data": [
    {
      "timestamp": "2025-12-27T00:00:00Z",
      "private": 10,
      "chat": 5,
      "inbox": 15,
      "outbox": 20
    },
    {
      "timestamp": "2025-12-27T01:00:00Z",
      "private": 12,
      "chat": 7,
      "inbox": 18,
      "outbox": 25
    },
    ...
  ]
}
```

**GET `/api/stats/kinds`**

Response:
```json
{
  "kinds": [
    { "kind": 1, "name": "Text Note", "count": 1800, "percentage": 80 },
    { "kind": 7, "name": "Reaction", "count": 337, "percentage": 15 },
    { "kind": 6, "name": "Repost", "count": 67, "percentage": 3 },
    { "kind": 1059, "name": "Gift Wrap", "count": 45, "percentage": 2 }
  ]
}
```

#### 2. Logs API

**GET `/api/logs?level=INFO&limit=100&offset=0`**

Response:
```json
{
  "logs": [
    {
      "timestamp": "2025-12-27T15:45:32Z",
      "level": "INFO",
      "message": "ğŸ“° new note in your inbox"
    },
    {
      "timestamp": "2025-12-27T15:40:12Z",
      "level": "INFO",
      "message": "âš¡ï¸ new zap in your inbox"
    },
    ...
  ],
  "total": 1000,
  "limit": 100,
  "offset": 0
}
```

**GET `/api/logs/search?q=keyword`**

Response:
```json
{
  "logs": [
    {
      "timestamp": "2025-12-27T15:35:01Z",
      "level": "INFO",
      "message": "ğŸ”« blasted abc123 to 8 relays"
    },
    ...
  ],
  "total": 45,
  "query": "keyword"
}
```

**WS `/api/logs/stream`**

WebSocket ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸:
```json
{
  "timestamp": "2025-12-27T15:50:00Z",
  "level": "INFO",
  "message": "ğŸ“° new note in your inbox"
}
```

#### 3. WoT API

**GET `/api/wot/stats`**

Response:
```json
{
  "directFollowers": 123,
  "oneHopNetwork": 1234,
  "wotMembers": 42,
  "minimumFollowers": 3,
  "wotDepth": 1,
  "lastRefresh": "2025-12-27T13:45:00Z",
  "nextRefresh": "2025-12-27T15:45:00Z"
}
```

**GET `/api/wot/members?limit=100&offset=0`**

Response:
```json
{
  "members": [
    {
      "npub": "npub1abc...",
      "name": "Alice",
      "followers": 456
    },
    {
      "npub": "npub1def...",
      "name": "Bob",
      "followers": 234
    },
    ...
  ],
  "total": 42,
  "limit": 100,
  "offset": 0
}
```

**POST `/api/wot/refresh`**

Request: (empty body)

Response:
```json
{
  "status": "success",
  "message": "WoT refresh started"
}
```

#### 4. Blossom API

**GET `/api/blossom/stats`**

Response:
```json
{
  "totalFiles": 56,
  "totalSize": 245366784,
  "storageLimit": 10737418240,
  "fileTypes": {
    "images": { "count": 45, "size": 209715200 },
    "videos": { "count": 8, "size": 31457280 },
    "others": { "count": 3, "size": 4194304 }
  }
}
```

**GET `/api/blossom/files?limit=10&offset=0`**

Response:
```json
{
  "files": [
    {
      "sha256": "abc123...",
      "size": 2411724,
      "type": "image/jpeg",
      "uploadedAt": "2025-12-27T15:40:00Z"
    },
    {
      "sha256": "def456...",
      "size": 12582912,
      "type": "video/mp4",
      "uploadedAt": "2025-12-27T14:20:00Z"
    },
    ...
  ],
  "total": 56,
  "limit": 10,
  "offset": 0
}
```

#### 5. Event Search API (NIP-50)

**GET `/api/events/search?q=keyword&relay=all&kind=all&from=2024-01-01&to=2025-12-27`**

Response:
```json
{
  "events": [
    {
      "id": "abc123...",
      "kind": 1,
      "pubkey": "npub1abc...",
      "created_at": 1735315800,
      "content": "This is a test note about bitcoin...",
      "tags": [...],
      "sig": "..."
    },
    ...
  ],
  "total": 234,
  "query": "keyword"
}
```

---

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### èªè¨¼ãƒ»èªå¯

**Tor Hidden Service ã«ã‚ˆã‚‹æš—é»™ã®èªè¨¼**:

Haven ã¯ Tor Hidden Service ã¨ã—ã¦å‹•ä½œã™ã‚‹ãŸã‚ã€.onion ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’çŸ¥ã£ã¦ã„ã‚‹äººã®ã¿ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã§ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ä»¥ä¸‹ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãŒç¢ºä¿ã•ã‚Œã¾ã™ï¼š

1. **ã‚¢ãƒ‰ãƒ¬ã‚¹ã®ç§˜åŒ¿æ€§**
   - .onion ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯é•·ã„ãƒ©ãƒ³ãƒ€ãƒ æ–‡å­—åˆ—
   - Start9 UI ã§ã®ã¿è¡¨ç¤º

2. **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ¬ãƒ™ãƒ«ã®éš”é›¢**
   - Tor ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯çµŒç”±ã®ã¿ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
   - ã‚¯ãƒªã‚¢ãƒãƒƒãƒˆã‹ã‚‰ã¯ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯

3. **è¿½åŠ èªè¨¼ã¯ä¸è¦**
   - ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¯èªè¨¼ãªã—ã§ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
   - .onion ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’çŸ¥ã£ã¦ã„ã‚‹ã“ã¨ãŒèªè¨¼

### è¿½åŠ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–

#### 1. CSRF ä¿è­· (POST/DELETE ãƒªã‚¯ã‚¨ã‚¹ãƒˆ)

```go
// dashboard.go

func csrfMiddleware(next http.HandlerFunc) http.HandlerFunc {
  return func(w http.ResponseWriter, r *http.Request) {
    if r.Method == "POST" || r.Method == "DELETE" {
      token := r.Header.Get("X-CSRF-Token")
      if token == "" || !validateCSRFToken(token) {
        http.Error(w, "Invalid CSRF token", http.StatusForbidden)
        return
      }
    }
    next(w, r)
  }
}
```

#### 2. Rate Limiting (API)

```go
// dashboard.go

var apiLimiter = policies.ConnectionRateLimiter(10, time.Minute, 30)

func apiRateLimitMiddleware(next http.HandlerFunc) http.HandlerFunc {
  return func(w http.ResponseWriter, r *http.Request) {
    if reject, _ := apiLimiter(r.Context(), r); reject {
      http.Error(w, "Rate limit exceeded", http.StatusTooManyRequests)
      return
    }
    next(w, r)
  }
}
```

#### 3. Input Validation

```go
// dashboard.go

func validateSearchQuery(q string) error {
  if len(q) > 200 {
    return fmt.Errorf("query too long")
  }
  
  // SQL injection é˜²æ­¢
  if strings.Contains(q, "--") || strings.Contains(q, ";") {
    return fmt.Errorf("invalid query")
  }
  
  return nil
}
```

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆè¨ˆç”»

### Unit Tests

```go
// dashboard_test.go

func TestGetStats(t *testing.T) {
  stats := getStats()
  
  assert.NotNil(t, stats)
  assert.GreaterOrEqual(t, stats.Relays.Private.Events, 0)
  assert.GreaterOrEqual(t, stats.Relays.Chat.Events, 0)
}

func TestGetLogs(t *testing.T) {
  logs := getLogs(LogsParams{
    Level:  "INFO",
    Limit:  10,
    Offset: 0,
  })
  
  assert.NotNil(t, logs)
  assert.LessOrEqual(t, len(logs.Logs), 10)
}

func TestWoTStats(t *testing.T) {
  stats := getWoTStats()
  
  assert.NotNil(t, stats)
  assert.GreaterOrEqual(t, stats.DirectFollowers, 0)
}
```

### Integration Tests

```bash
# Test dashboard endpoint
curl -s http://localhost:3355/dashboard | grep "Haven Dashboard"

# Test stats API
curl -s http://localhost:3355/api/stats | jq '.relays.private.events'

# Test logs API
curl -s http://localhost:3355/api/logs?limit=10 | jq '.logs | length'
```

### Browser Tests (Tor)

```bash
# 1. Start Haven
./haven

# 2. Get .onion address
ONION=$(cat /data/tor/haven/hostname)

# 3. Test with Tor Browser
# - Open Tor Browser
# - Navigate to http://<onion>/dashboard
# - Verify all pages load
# - Check real-time updates work
```

---

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤æˆ¦ç•¥

### Start9 çµ±åˆ

#### 1. manifest.yaml æ›´æ–°

```yaml
interfaces:
  main:
    name: Nostr Relay Interface
    description: Main Nostr relay endpoint (WebSocket) and Blossom media server
    tor-config:
      port-mapping:
        "3355": "80"
    lan-config: null
    ui: true  # â† LAUNCH UI æœ‰åŠ¹åŒ–
    protocols:
      - tcp
      - http
      - ws
```

#### 2. LAUNCH UI è¨­å®š

Start9 ã¯ `ui: true` ã® interface ã‚’è‡ªå‹•çš„ã« LAUNCH UI ãƒœã‚¿ãƒ³ã¨ã—ã¦è¡¨ç¤ºã—ã¾ã™ã€‚

Haven ã®å ´åˆ:
```
http://<onion>/dashboard
```

#### 3. æ—¢å­˜ã® NIP-11 ãƒšãƒ¼ã‚¸ã¨ã®å…±å­˜

```go
// main.go

http.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) {
  // Accept ãƒ˜ãƒƒãƒ€ãƒ¼ã§æŒ¯ã‚Šåˆ†ã‘
  if strings.Contains(r.Header.Get("Accept"), "text/html") {
    // Browser access â†’ Dashboard
    http.Redirect(w, r, "/dashboard", http.StatusTemporaryRedirect)
  } else {
    // Nostr client access â†’ NIP-11 info
    dynamicRelayHandler(w, r)
  }
})

http.HandleFunc("/dashboard", dashboardHomeHandler)
http.HandleFunc("/dashboard/stats", dashboardStatsHandler)
http.HandleFunc("/dashboard/logs", dashboardLogsHandler)
http.HandleFunc("/dashboard/wot", dashboardWoTHandler)
http.HandleFunc("/dashboard/blossom", dashboardBlossomHandler)

http.HandleFunc("/api/stats", apiStatsHandler)
http.HandleFunc("/api/logs", apiLogsHandler)
// ... more API endpoints
```

---

## ğŸ“ ã¾ã¨ã‚

### å®Ÿè£…å„ªå…ˆé †ä½

| Phase | æ©Ÿèƒ½ | å„ªå…ˆåº¦ | æœŸé–“ |
|-------|------|--------|------|
| Phase 1 | åŸºæœ¬ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ | ğŸ”´ High | 2é€±é–“ |
| Phase 2 | æ‹¡å¼µæ©Ÿèƒ½ (WoT, Blossom) | ğŸŸ¡ Medium | 1é€±é–“ |
| Phase 3 | ç®¡ç†æ©Ÿèƒ½ (Search, Delete) | ğŸŸ¢ Low | 2é€±é–“ |

### ç·åˆæ‰€è¦æ™‚é–“
- **Total**: 5é€±é–“ (ç´„ 74æ™‚é–“)

### æˆæœç‰©
- Web ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
- 6ã¤ã®ãƒšãƒ¼ã‚¸ (Home, Stats, Logs, WoT, Blossom, Search)
- 10+ API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°æ©Ÿèƒ½
- ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ

---

## ğŸ”— å‚è€ƒè³‡æ–™

- [Start9 UI Documentation](https://docs.start9.com)
- [Chart.js](https://www.chartjs.org/)
- [Alpine.js](https://alpinejs.dev/)
- [htmx](https://htmx.org/)
- [TailwindCSS](https://tailwindcss.com/)

---

**ä½œæˆè€…**: Oracle + AI Assistant  
**æ›´æ–°å±¥æ­´**:
- 2025-12-27: åˆç‰ˆä½œæˆ

---

**Haven Dashboard** - Monitor, Manage, and Explore your personal Nostr relay ğŸš€

